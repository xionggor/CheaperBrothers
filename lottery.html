<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <title>Cheaper Brothers 2025 ç¬¬ä¸€å±Šå½¢å®¹è¯åŠ¨è¯äº¤æ¢ç¤¼ç‰© ğŸ…ğŸ„</title>
  <link rel="stylesheet" href="style.css">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
</head>
<body>
  <!-- åœ£è¯å½©ç¯ -->
  <div id="christmas-lights">
    <div class="light red"></div>
    <div class="light green"></div>
    <div class="light yellow"></div>
    <div class="light blue"></div>
    <div class="light pink"></div>
    <div class="light red"></div>
    <div class="light green"></div>
    <div class="light yellow"></div>
  </div>

  <header>
    <h1>Cheaper Brothers 2025 ç¬¬ä¸€å±Šå½¢å®¹è¯åŠ¨è¯äº¤æ¢ç¤¼ç‰© ğŸ…ğŸ„</h1>
    <p>æ¯ä¸ªäººè´¡çŒ® 2 ä¸ªå½¢å®¹è¯ + 2 ä¸ªåŠ¨è¯ï¼Œçœ‹çœ‹å‘½è¿ä¼šç»™ä½ ä»€ä¹ˆæƒŠå–œå§ ğŸ˜‚</p>
  </header>

  <main>
    <section id="form-section" class="card">
      <h2>æŠ¥åè¡¨</h2>
      <form id="giftForm" autocomplete="off">
        <label>åå­—:</label>
        <input type="text" id="name" required>

        <label>åŠ¨è¯1:</label>
        <input type="text" id="verb1" required>
        <div class="example" id="verb1-example"></div>

        <label>åŠ¨è¯2:</label>
        <input type="text" id="verb2" required>
        <div class="example" id="verb2-example"></div>

        <label>å½¢å®¹è¯1:</label>
        <input type="text" id="adverb1" required>
        <div class="example" id="adverb1-example"></div>

        <label>å½¢å®¹è¯2:</label>
        <input type="text" id="adverb2" required>
        <div class="example" id="adverb2-example"></div>

        <label>å¤‡æ³¨:</label>
        <input type="text" id="remark">

        <button type="submit">æäº¤</button>
      </form>

      <div id="submissionList">
        <h3>å·²æäº¤ä¿¡æ¯</h3>
      </div>
    </section>

    <section id="admin-section" class="card">
      <h2>ä¸»æŒäººæ“ä½œ</h2>
      <label>å¯†ç :</label>
      <input type="password" id="adminPassword">
      <button id="loginBtn">ç™»å½•</button>
      <div id="admin-controls" style="display:none; margin-top:10px;">
        <button id="generateBtn">ç”Ÿæˆç»„åˆï¼ˆæ¯äººä¸€ç»„ï¼‰</button>
        <button id="matchBtn">åŒ¹é…åå­—ï¼ˆéšæœºé€ç¤¼ï¼‰</button>
        <button id="clearBtn">æ¸…ç©ºç»“æœ</button>
      </div>
    </section>

    <section id="results-section" class="card" style="display:flex; gap:20px;">
      <div style="flex:1;">
        <h3>ç”Ÿæˆç»„åˆç»“æœ</h3>
        <ul id="comboList"></ul>
      </div>
      <div style="flex:1;">
        <h3>éšæœºé€ç¤¼ç»“æœ</h3>
        <ul id="giftList"></ul>
      </div>
    </section>
  </main>

  <footer>
    <a href="index.html">Cheaper Brothers ğŸ„ 2025</a>
  </footer>

  <!-- ä¸» JS -->
  <script src="script.js"></script>

  <!-- å½©ç¯é—ªçƒ -->
  <script>
    const lights = document.querySelectorAll('#christmas-lights .light');
    function randomBlink() {
      lights.forEach(light => {
        const delay = Math.random() * 2000;
        setTimeout(() => {
          light.style.opacity = Math.random() > 0.5 ? 1 : 0.3;
        }, delay);
      });
    }
    setInterval(randomBlink, 500);
  </script>

  <script>
    // ä¿å­˜ç»“æœåˆ°æœ¬åœ°
    function saveResults() {
      const comboData = Array.from(document.querySelectorAll("#comboList li")).map(li=>li.innerText);
      const giftData = Array.from(document.querySelectorAll("#giftList li")).map(li=>li.innerText);
      localStorage.setItem("comboResults", JSON.stringify(comboData));
      localStorage.setItem("giftResults", JSON.stringify(giftData));
    }

    function loadResults() {
      const comboData = JSON.parse(localStorage.getItem("comboResults")||"[]");
      const giftData = JSON.parse(localStorage.getItem("giftResults")||"[]");
      const comboList = document.getElementById("comboList");
      const giftList = document.getElementById("giftList");
      comboList.innerHTML="";
      giftList.innerHTML="";
      comboData.forEach(item=>{
        const li=document.createElement("li");
        li.innerText=item;
        comboList.appendChild(li);
      });
      giftData.forEach(item=>{
        const li=document.createElement("li");
        li.innerText=item;
        giftList.appendChild(li);
      });
    }

    // é¡µé¢åŠ è½½æ—¶æ¢å¤ç»“æœ
    window.onload = ()=> {
      loadResults();
      loadSubmissions();
    }

    // æ¸…ç©ºæŒ‰é’®
    document.getElementById("clearBtn").addEventListener("click",()=>{
      document.getElementById("comboList").innerHTML="";
      document.getElementById("giftList").innerHTML="";
      localStorage.removeItem("comboResults");
      localStorage.removeItem("giftResults");
    });

    // ä¿®æ”¹æ˜¾ç¤ºç»“æœå‡½æ•°ï¼Œè‡ªåŠ¨ä¿å­˜
    function displayResults(list, title, isGift=false){
      const ul = isGift ? document.getElementById("giftList") : document.getElementById("comboList");
      ul.innerHTML="";
      list.forEach(c=>{
        const li=document.createElement('li');
        li.innerText=isGift?`${c.sender} ğŸ é€ç»™ â†’ ${c.receiver}`:`${c.name} â†’ ${c.combo}`;
        ul.appendChild(li);
      });
      saveResults();
    }
  </script>
</body>
</html>
